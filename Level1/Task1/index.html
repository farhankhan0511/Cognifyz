<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<title>Form Submission</title>
		<script src="https://cdn.tailwindcss.com"></script>
	</head>

	<body class="bg-gray-600 flex items-center justify-center min-h-screen">
		<form
			id="myForm"
			class="bg-gray-200 p-6 rounded shadow-md w-full max-w-sm"
		>
			<div class="mb-4">
				<label for="name" class="block text-gray-700 font-bold mb-2"
					>Name:</label
				>
				<input
					type="text"
					id="name"
					name="name"
					required
					class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
				/>
			</div>
			<div class="mb-4">
				<label
					for="email"
					class="block text-gray-700 font-bold mb-2"
					>Email:</label
				>
				<input
					type="email"
					id="email"
					name="email"
					required
					class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
				/>
			</div>
			<button
				type="submit"
				class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
			>
				Submit
			</button>
		</form>

		<script>
            document.getElementById("myForm").addEventListener("submit", async function (event) {
		event.preventDefault();

		const formData = {
			name: document.getElementById("name").value,
			email: document.getElementById("email").value,
		};

		try {
			const response = await fetch("http://localhost:3001/submit", {
				method: "POST",
				headers: {
					"Content-Type": "application/json",
				},
				body: JSON.stringify(formData),
			});

			if (response.ok) {
				alert("Form submitted successfully!");
			} else {
				alert("Failed to submit form.");
			}
		} catch (error) {
			console.error("Error:", error);
			alert("An error occurred while submitting the form.");``
		}
	});
        </script>
	</body>
</html>